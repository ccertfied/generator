<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro Lua Executor Script Generator</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background: #0d1117;
            color: #c9d1d9;
            padding: 25px;
            max-width: 900px;
            margin: 0 auto;
            line-height: 1.6;
        }
        h1 { text-align: center; color: #58a6ff; margin-bottom: 10px; }
        p { text-align: center; color: #8b949e; }
        textarea {
            width: 100%;
            height: 130px;
            background: #161b22;
            color: #c9d1d9;
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 14px;
            font-size: 16px;
            font-family: 'Courier New', monospace;
            resize: vertical;
        }
        .buttons {
            display: flex;
            gap: 12px;
            margin: 20px 0;
            justify-content: center;
        }
        button {
            padding: 12px 28px;
            font-size: 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
        }
        #generateBtn {
            background: #238636;
            color: white;
        }
        #generateBtn:disabled { background: #3a3d41; cursor: not-allowed; }
        #copyBtn {
            background: #1f6feb;
            color: white;
        }
        pre {
            background: #161b22;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #30363d;
            white-space: pre-wrap;
            font-size: 15px;
            min-height: 300px;
            position: relative;
            overflow-x: auto;
        }
        .notice {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #238636;
            color: white;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 13px;
            opacity: 0;
            transition: opacity 0.3s;
        }
    </style>
</head>
<body>
    <h1>Pro Lua Executor Script Generator</h1>
    <p>Fixed version: Generates working scripts like pro AI coders. Request anything.</p>

    <textarea id="prompt" placeholder="e.g., silent aimbot, toggle fly, full esp with names, noclip, teleport"></textarea>

    <div class="buttons">
        <button id="generateBtn" onclick="generate()">Generate Fast</button>
        <button id="copyBtn" onclick="copyScript()" disabled>Copy Script</button>
    </div>

    <pre id="output">-- Enter request and generate</pre>
    <div class="notice" id="copyNotice">Copied!</div>

    <script>
        async function generate() {
            const prompt = document.getElementById('prompt').value.trim().toLowerCase();
            if (!prompt) {
                alert("need a request first");
                return;
            }

            const output = document.getElementById('output');
            const genBtn = document.getElementById('generateBtn');
            const copyBtn = document.getElementById('copyBtn');

            output.textContent = '';
            genBtn.disabled = true;
            genBtn.textContent = 'generating...';
            copyBtn.disabled = true;

            let code = "";

            // Header
            code += `-- advanced script gen for "${document.getElementById('prompt').value}"\n`;
            code += `-- fixed loops, working in executors like synapse/delta\n\n`;

            // Base
            code += "local Players = game:GetService('Players')\n";
            code += "local plr = Players.LocalPlayer\n";
            code += "local char = plr.Character or plr.CharacterAdded:Wait()\n";
            code += "local hum = char:WaitForChild('Humanoid')\n";
            code += "local root = char:WaitForChild('HumanoidRootPart')\n";
            code += "local mouse = plr:GetMouse()\n";
            code += "local uis = game:GetService('UserInputService')\n";
            code += "local rs = game:GetService('RunService')\n";
            code += "local cam = workspace.CurrentCamera\n\n";

            // Fly - fixed with spawn
            if (prompt.includes("fly") || prompt.includes("flying")) {
                code += "-- fly (toggle E, wasd space ctrl)\n";
                code += "local flyTog = false\n";
                code += "local flySpd = 50\n\n";
                code += "uis.InputBegan:Connect(function(inp)\n";
                code += "    if inp.KeyCode == Enum.KeyCode.E then\n";
                code += "        flyTog = not flyTog\n";
                code += "        if flyTog then\n";
                code += "            local bg = Instance.new('BodyGyro', root)\n";
                code += "            bg.MaxTorque = Vector3.new(9e9,9e9,9e9)\n";
                code += "            bg.P = 9e4\n";
                code += "            bg.CFrame = root.CFrame\n";
                code += "            local bv = Instance.new('BodyVelocity', root)\n";
                code += "            bv.MaxForce = Vector3.new(9e9,9e9,9e9)\n";
                code += "            bv.Velocity = Vector3.new(0,0,0)\n";
                code += "            spawn(function()\n";
                code += "                while flyTog do\n";
                code += "                    local vel = Vector3.new()\n";
                code += "                    if uis:IsKeyDown(Enum.KeyCode.W) then vel = vel + cam.CFrame.LookVector end\n";
                code += "                    if uis:IsKeyDown(Enum.KeyCode.S) then vel = vel - cam.CFrame.LookVector end\n";
                code += "                    if uis:IsKeyDown(Enum.KeyCode.A) then vel = vel - cam.CFrame.RightVector end\n";
                code += "                    if uis:IsKeyDown(Enum.KeyCode.D) then vel = vel + cam.CFrame.RightVector end\n";
                code += "                    if uis:IsKeyDown(Enum.KeyCode.Space) then vel = vel + Vector3.new(0,1,0) end\n";
                code += "                    if uis:IsKeyDown(Enum.KeyCode.LeftControl) then vel = vel - Vector3.new(0,1,0) end\n";
                code += "                    bv.Velocity = vel * flySpd\n";
                code += "                    bg.CFrame = cam.CFrame\n";
                code += "                    task.wait()\n";
                code += "                end\n";
                code += "                bv:Destroy()\n";
                code += "                bg:Destroy()\n";
                code += "            end)\n";
                code += "        end\n";
                code += "    end\n";
                code += "end)\n\n";
            }

            // Speed
            if (prompt.includes("speed") || prompt.includes("walkspeed") || prompt.includes("fast")) {
                code += "-- speed/jump\n";
                code += "hum.WalkSpeed = 100\n";
                code += "hum.JumpPower = 100\n\n";
            }

            // Noclip - fixed
            if (prompt.includes("noclip") || prompt.includes("no clip") || prompt.includes("phase")) {
                code += "-- noclip (toggle Q)\n";
                code += "local ncTog = false\n";
                code += "uis.InputBegan:Connect(function(inp)\n";
                code += "    if inp.KeyCode == Enum.KeyCode.Q then\n";
                code += "        ncTog = not ncTog\n";
                code += "    end\n";
                code += "end)\n\n";
                code += "rs.Stepped:Connect(function()\n";
                code += "    if ncTog then\n";
                code += "        for _, part in pairs(char:GetDescendants()) do\n";
                code += "            if part:IsA('BasePart') and part.CanCollide then\n";
                code += "                part.CanCollide = false\n";
                code += "            end\n";
                code += "        end\n";
                code += "    end\n";
                code += "end)\n\n";
            }

            // ESP - using Highlight for simplicity and working through walls
            if (prompt.includes("esp") || prompt.includes("wallhack") || prompt.includes("box")) {
                code += "-- esp highlights with names\n";
                code += "local esps = {}\n";
                code += "local function addEsp(plyr)\n";
                code += "    if plyr.Character then\n";
                code += "        local hl = Instance.new('Highlight', plyr.Character)\n";
                code += "        hl.FillTransparency = 1\n";
                code += "        hl.OutlineColor = Color3.new(1,0,0)\n";
                code += "        hl.OutlineTransparency = 0\n";
                code += "        local bb = Instance.new('BillboardGui', plyr.Character:FindFirstChild('Head') or plyr.Character.PrimaryPart)\n";
                code += "        bb.Adornee = plyr.Character.Head\n";
                code += "        bb.AlwaysOnTop = true\n";
                code += "        bb.Size = UDim2.new(0,200,0,50)\n";
                code += "        bb.StudsOffset = Vector3.new(0,3,0)\n";
                code += "        local txt = Instance.new('TextLabel', bb)\n";
                code += "        txt.BackgroundTransparency = 1\n";
                code += "        txt.Size = UDim2.new(1,0,1,0)\n";
                code += "        txt.Text = plyr.Name\n";
                code += "        txt.TextColor3 = Color3.new(1,1,1)\n";
                code += "        txt.TextSize = 14\n";
                code += "        esps[plyr] = {hl = hl, bb = bb}\n";
                code += "    end\n";
                code += "end\n\n";
                code += "for _, plyr in pairs(Players:GetPlayers()) do\n";
                code += "    if plyr ~= plr then\n";
                code += "        addEsp(plyr)\n";
                code += "        plyr.CharacterAdded:Connect(function()\n";
                code += "            addEsp(plyr)\n";
                code += "        end)\n";
                code += "    end\n";
                code += "end\n\n";
                code += "Players.PlayerAdded:Connect(function(plyr)\n";
                code += "    if plyr ~= plr then\n";
                code += "        plyr.CharacterAdded:Wait()\n";
                code += "        addEsp(plyr)\n";
                code += "    end\n";
                code += "end)\n\n";
            }

            // Silent Aimbot - basic prediction, toggle F
            if (prompt.includes("aimbot") || prompt.includes("aim") || prompt.includes("lock")) {
                code += "-- silent aimbot (toggle F, headshot)\n";
                code += "local silentTog = false\n";
                code += "local aimTarget = 'Head'\n";
                code += "local fov = 200\n\n";
                code += "uis.InputBegan:Connect(function(inp)\n";
                code += "    if inp.KeyCode == Enum.KeyCode.F then\n";
                code += "        silentTog = not silentTog\n";
                code += "    end\n";
                code += "end)\n\n";
                code += "local oldRay = getmetatable(newproxy(true)).__index\n";
                code += "getmetatable(newproxy(true)).__index = function(a, b)\n";
                code += "    if silentTog and tostring(a) == 'Ray' and tostring(b) == 'new' then\n";
                code += "        return function(c, d)\n";
                code += "            local targ = nil\n";
                code += "            local minDist = fov\n";
                code += "            for _, p in pairs(Players:GetPlayers()) do\n";
                code += "                if p ~= plr and p.Character and p.Character:FindFirstChild(aimTarget) then\n";
                code += "                    local partPos = p.Character[aimTarget].Position\n";
                code += "                    local screenPos, onScreen = cam:WorldToViewportPoint(partPos)\n";
                code += "                    if onScreen then\n";
                code += "                        local dist = (Vector2.new(mouse.X, mouse.Y) - Vector2.new(screenPos.X, screenPos.Y)).Magnitude\n";
                code += "                        if dist < minDist then\n";
                code += "                            minDist = dist\n";
                code += "                            targ = partPos\n";
                code += "                        end\n";
                code += "                    end\n";
                code += "                end\n";
                code += "            end\n";
                code += "            if targ then\n";
                code += "                d = (targ - c).Unit\n";
                code += "            end\n";
                code += "            return oldRay(a, b)(c, d)\n";
                code += "        end\n";
                code += "    end\n";
                code += "    return oldRay(a, b)\n";
                code += "end\n\n";
            }

            // Teleport
            if (prompt.includes("teleport") || prompt.includes("tp")) {
                code += "-- tp to mouse (T key)\n";
                code += "uis.InputBegan:Connect(function(inp)\n";
                code += "    if inp.KeyCode == Enum.KeyCode.T then\n";
                code += "        root.CFrame = mouse.Hit * CFrame.new(0, 3, 0)\n";
                code += "    end\n";
                code += "end)\n\n";
            }

            // Footer
            code += "-- script good to go\n";
            code += "print('generated and loaded:', '" + document.getElementById('prompt').value + "')";

            // Fast type
            for (let i = 0; i <= code.length; i++) {
                output.textContent = code.substring(0, i);
                await new Promise(r => setTimeout(r, 4 + Math.random() * 6));
            }

            genBtn.disabled = false;
            genBtn.textContent = 'Generate Again';
            copyBtn.disabled = false;
        }

        function copyScript() {
            const text = document.getElementById('output').textContent;
            navigator.clipboard.writeText(text).then(() => {
                const notice = document.getElementById('copyNotice');
                notice.style.opacity = 1;
                setTimeout(() => notice.style.opacity = 0, 1500);
            });
        }
    </script>
</body>
</html>
